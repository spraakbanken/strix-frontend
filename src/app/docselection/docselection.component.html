<div class="docselection col" *ngIf="show">
<div class="hitsSide">
   <div class="no_hits_area" *ngIf="hasSearched && documentsWithHits.length === 0">
    <alert type="danger" dismissible="true">
      Inga funna dokument.
    </alert>
  </div>
  <div class="hits_area" *ngIf="documentsWithHits.length > 0 && showData">
    <div class="hits_header row flex-column">
      <div class="docView">
        <div class="paginatorClass">
          <mat-paginator 
          [length]="totalNumberOfDocuments" 
          [pageSize]="itemsPerPage" 
          [pageSizeOptions]="[10, 15, 20, 25]"
          [pageIndex]="currentPaginatorPage"
          (page)="paginatorPageChanged($event)"
          showFirstLastButtons>
          </mat-paginator>
        </div>
      </div>
      <li class="divider dropdown-divider" style="width: 98.5%;"></li>
    </div>
    <div class="hits_left_column row" *ngIf="gotMetadata">
      <div class="hits_inner list-group" style="padding-left: 24px;">
        <div class="hit_area list-group-item" *ngFor="let doc of documentsWithHits; let i = index"  style="padding: 1px 2px 1px 8px; width: 98%;">
          <div class="box-container">
            <div class="row">
              <div class="col-xl-2">
                <div class="font-weight-ligh">{{ 'title' | loc }}:</div>
              </div>
              <div class="col-xl-9">
                <a style="color:lightseagreen" tabindex (click)="openDocument(i)">{{doc.title}}</a>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-2">
                <div class="font-weight-ligh">Text:</div>
              </div>
              <div class="col-xl-9">
                <div class="hit_document_body">
                  <ng-template [ngIf]="doc.highlight">
                    <span *ngFor="let highlight of doc.highlight; let l = last" [innerHTML]="highlight+'&nbsp;'">
                      <br *ngIf="last"/> <!-- ??? -->
                    </span>
                  </ng-template>
                  <ng-template [ngIf]="doc.preview">
                    <span>
                      {{doc.preview}} <span class="dots">...</span>
                    </span>
                  </ng-template>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-2">
                <div class="font-weight-ligh">{{ 'yearS' | loc }}:</div>
              </div>
              <div class="col-xl-9" *ngIf="doc.text_attributes.year !== '2050'">
                <a>{{doc.text_attributes.year}}</a>
              </div>
              <div class="col-xl-9" *ngIf="doc.text_attributes.year === '2050'">
                <a>{{'NA'}}</a>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-2">
                <div class="font-weight-ligh">{{ 'tokens' | loc }}:</div>
              </div>
              <div class="col-xl-9">
                <a>{{doc.word_count}} {{ 'token' | loc }}</a>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-2">
                <div class="font-weight-ligh">{{ 'corpusName' | loc }}:</div>
              </div>
              <div class="col-xl-9">
                <div class="hit_appendix">
                  <span class="hit_collection_title">
                    {{ availableCorpora[doc.corpus_id].name |Â loc }}
                  </span>&nbsp;
                </div>
              </div>
            </div>
            <!-- <div class="row" style="padding-top: 10px;">
              <div class="col-xl-2">
                <div class="font-weight-ligh">Most common words:</div>
              </div>
              <div class="col-xl-9" style="display: inline-flex; flex-wrap: wrap">
                <span class="mostCommonWords" *ngFor="let item of doc.most_common_words.split(' ') | slice:0:10; let i = index;">
                  <i>{{item}}</i>
                </span>
              </div>
            </div> -->
            <div class="row">
              <div class="col-xl-2">
                <div class="font-weight-ligh">{{ 'related_documents' | loc }}:</div>
              </div>
              <div class="col-xl-9" style="display: flex;">
                <!-- <img src="assets/similarDocument.png" width="20" height="20" (click)="addTab(i)"/> -->
                <button class="closeButton" mat-button (click)="addTab(i, 'currentCorpus')" style="margin-right: 10px;" *ngIf="(availableCorpora[doc.corpus_id].name | loc).split(' ').length > 3">{{ (availableCorpora[doc.corpus_id].name | loc).split(' ').splice(0,3).join(' ') }}...<mat-icon style="font-size: 20px;">tab</mat-icon></button>
                <button class="closeButton" mat-button (click)="addTab(i, 'currentCorpus')" style="margin-right: 10px;" *ngIf="(availableCorpora[doc.corpus_id].name | loc).split(' ').length <= 3">{{ (availableCorpora[doc.corpus_id].name | loc) }} <mat-icon style="font-size: 20px;">tab</mat-icon></button>
                <button class="closeButton" mat-button (click)="addTab(i, 'currentMode')">{{ availableCorpora[doc.corpus_id].mode | loc }} <mat-icon style="font-size: 20px;">tab</mat-icon></button>
              </div>
            </div>
            <div class="row" *ngIf="doc.most_common_words">
              <div class="col-xl-2">
                <div class="font-weight-ligh">{{ 'mostCommonNoun' | loc }}:</div>
              </div>
              <div class="col-xl-9" style="display: inline-flex; flex-wrap: wrap">
                <span *ngFor="let item of doc.most_common_words.split(', ') | slice:0:10; let i = index;">
                  <i *ngIf="i < 9" style="padding-right: 10px;">{{item}},</i>
                  <i *ngIf="i == 9">{{item}}</i>
                </span>
              </div>
            </div>
            <div class="row" *ngIf="doc.ner_tags">
              <div class="col-xl-2">
                <div class="font-weight-ligh">{{ 'ners' | loc }}:</div>
              </div>
              <div class="col-xl-9" style="display: inline-flex; flex-wrap: wrap">
                <span *ngFor="let item of doc.ner_tags.split(', ') | slice:0:5; let i = index;">
                  <i *ngIf="i < 4" style="padding-right: 10px;">{{item}},</i>
                  <i *ngIf="i == 4">{{item}}</i>
                </span>
              </div>
            </div>
            
          </div> 
        </div>
      </div>
    </div>
    <div class="hits_right_column col-md-3" *ngIf="textAttributes.length">
      <div *ngFor="let attribute of textAttributes">
        {{attribute.key}}: {{attribute.value}}
      </div>
    </div>
  </div>
</div>
<div class="filterSide">
  <!-- <div class="searchBox">
    <div class="viewRight">
      <span><b>{{ 'text_attributes' | loc }}</b></span>
    </div>
  </div> -->
  <filterdata></filterdata>
</div>
</div>
